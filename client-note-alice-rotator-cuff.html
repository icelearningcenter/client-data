<div class="client-record-container">
  <div class="client-header">
    <div class="client-logo">
      <img src="/s/Client-Record-Logo.png" alt="ICE Learning Center Logo">
    </div>
    <div class="client-search-wrapper">
      <div class="client-search">
        <input type="text" id="client-search-input" class="client-search-input" placeholder="Find a Client Record..." autocomplete="off">
        <button id="client-search-button" class="client-search-button">Go</button>
      </div>
      <div class="autocomplete-results" id="autocomplete-results"></div>
    </div>
  </div>
  <div class="client-info">
    <h1>Alice</h1>
    <h2>Client ID 018</h2>
  </div>
<div class="info-table-wrapper">
  <dl class="info-list">
    
    <div>
      <dt>Name</dt>
      <dd>Alice</dd>
    </div>
    
    <div>
      <dt>Primary Diagnosis</dt>
      <dd>R rotator cuff repair</dd>
    </div>
    
    <div>
      <dt>Insurance</dt>
      <dd>BCBS</dd>
    </div>
    
    <div>
      <dt>Referring Physician</dt>
      <dd>T. Mohr, MD</dd>
    </div>
    
    <div>
      <dt>Age</dt>
      <dd>39</dd>
    </div>
    
    <div>
      <dt>Gender Identity</dt>
      <dd>Female</dd>
    </div>
    
    <div>
      <dt>Pronouns</dt>
      <dd>She/her/hers</dd>
    </div>
    
    <div>
      <dt>Race/Ethnicity</dt>
      <dd>White</dd>
    </div>
    
  </dl>
</div>
  <div class="tab-container">
    <div class="tab-nav">
      
      <button class="tab-nav-button active" data-target="tab-1">Medical History</button>
      
      <button class="tab-nav-button " data-target="tab-2">Social History</button>
      
      <button class="tab-nav-button " data-target="tab-3">MD Orders</button>
      
      <button class="tab-nav-button " data-target="tab-4">Medications</button>
      
      <button class="tab-nav-button " data-target="tab-5">Test Results</button>
      
    </div>
    <div class="tab-content">
      
      <div id="tab-1" class="tab-panel active">
        
<p><strong>History of present illness:</strong> <br/>39yo WF reported gradual R shoulder and hand weakening and altered sensation in R shoulder. While attempting to lift suitcase into plane overhead bin 6 months ago, heard pop in R shoulder and experienced acute weakness and pain. 2 days later, fell and caught herself using RUE. After fall, was unable to use RUE. Had outpatient physical therapy before deciding to proceed with surgery. MRI revealed full thickness complete tear of the supraspinatus and partial tear of the infraspinatus tendon. Arthroscopic R rotator cuff repair and R carpal tunnel release surgery were performed 2 weeks ago.</p>
<p><strong>Past medical/surgical history:</strong><br/>L rotator cuff repair 3 years ago, carpal tunnel B wrists</p>

      </div>
      
      <div id="tab-2" class="tab-panel ">
        
<p><strong>Marital status:</strong> Married 16 years</p>
<p><strong>Primary language:</strong> English</p>
<p><strong>Prior level of function:</strong> Independent with ADL/IADLs, including driving prior to current injury. Shoulder weakness required activity modification (e.g., requiring a second assistant for transferring patients at work and avoiding overhead reaching at home). Difficulty typing for long periods of time while charting.</p>
<p><strong>Employment/work/school:</strong> College education. Part-time nurse (two 12-hour shifts weekly). Work duties involve prolonged walking and standing, frequent lifting up to 50 pounds when positioning patients, and fine motor coordination for placing IVs and using syringes.</p>
<p><strong>Play/leisure/interests:</strong> Enjoys gardening and crafting (primarily paper crafts) in her spare time.</p>
<p><strong>Environmental factors:</strong> Lives with husband and two children in two-story house with no STE, no handrails. 15 steps to second level, L handrail. Walk-in shower (2‚Äù ledge), sliding door, shower chair, and handheld shower head.</p>

      </div>
      
      <div id="tab-3" class="tab-panel ">
        
<p>Weeks 0-6: Wear sling continuously (may be removed for exercises, showering, and dressing). Pain medication PRN. Complete given HEP 4x day, scar massage 4x day. PROM only. No joint mobilization.</p>
<p>Weeks 6-12: No lifting more than 5 lbs or overhead reaching. AAROM progressing to AROM. No strengthening exercises.</p>
<p>Weeks 12+: Progress to strengthening exercises as tolerated.</p>

      </div>
      
      <div id="tab-4" class="tab-panel ">
        
<p>Tylenol 650 mg TID PRN</p>

      </div>
      
      <div id="tab-5" class="tab-panel ">
        
<p>MRI: full thickness complete tear of the supraspinatus and partial tear of the infraspinatus tendon</p>

      </div>
      
    </div>
  </div>
  <div style="padding: 0 20px 20px 20px; font-style: italic; color: #777;">
    Disclaimer: Although the individuals in ICE videos are real patients, the exact history has been altered to protect their identities.
  </div>
</div>

<script>
  // --- CLIENT DATA ---
  // Loaded externally from client-list.js via Squarespace Code Injection
  function initClientFeatures() {
    if (typeof clientData === "undefined") {
      console.warn("Waiting for client-list.js to load...");
      return setTimeout(initClientFeatures, 200);
    }

    // --- 1. Define Elements ---
    const tabButtons = document.querySelectorAll(".tab-nav-button");
    const tabPanels = document.querySelectorAll(".tab-panel");
    const searchInput = document.getElementById("client-search-input");
    const searchButton = document.getElementById("client-search-button");
    const resultsWrapper = document.getElementById("autocomplete-results");

    // --- 2. Setup Tab Logic ---
    if (tabButtons.length > 0 && tabPanels.length > 0) {
      tabButtons.forEach(button => {
        button.addEventListener("click", () => {
          tabButtons.forEach(btn => btn.classList.remove("active"));
          tabPanels.forEach(panel => panel.classList.remove("active"));

          button.classList.add("active");
          const targetPanel = document.getElementById(button.getAttribute("data-target"));
          if (targetPanel) {
            targetPanel.classList.add("active");
          }
        });
      });
    }

    // --- 3. Setup Autocomplete Search Logic ---
    if (searchInput && searchButton && resultsWrapper) {
      // Function to perform the redirect
      function goToClient(slug) {
        if (!slug) return;
        const baseUrl = "https://www.icelearningcenter.com/";
        window.location.href = baseUrl + slug;
      }

      // Function to handle the search input
      function handleSearchInput() {
        const inputVal = searchInput.value.toLowerCase();
        resultsWrapper.innerHTML = "";

        if (!inputVal) {
          resultsWrapper.style.display = "none";
          return;
        }

        const matches = clientData.filter(client =>
          client.name.toLowerCase().includes(inputVal)
        );

        if (matches.length > 0) {
          resultsWrapper.style.display = "block";
          matches.forEach(match => {
            const item = document.createElement("div");
            item.className = "autocomplete-item";
            item.textContent = match.name;
            item.addEventListener("click", function () {
              searchInput.value = match.name;
              resultsWrapper.style.display = "none";
              goToClient(match.slug);
            });
            resultsWrapper.appendChild(item);
          });
        } else {
          resultsWrapper.style.display = "none";
        }
      }

      // Listen for typing in the search box
      searchInput.addEventListener("input", handleSearchInput);

      // Handle the "Go" button click
      searchButton.addEventListener("click", function () {
        const inputVal = searchInput.value.toLowerCase();
        const exactMatch = clientData.find(client => client.name.toLowerCase() === inputVal);

        if (exactMatch) {
          goToClient(exactMatch.slug);
        } else if (resultsWrapper.children.length > 0) {
          // If no exact match but there are results, go to the first result
          resultsWrapper.children[0].click();
        }
      });

      // Handle pressing "Enter" in the search box
      searchInput.addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
          event.preventDefault();
          searchButton.click();
        }
      });

      // Close dropdown if user clicks outside of it
      document.addEventListener("click", function (e) {
        const wrapper = e.target.closest(".client-search-wrapper");
        if (!wrapper) {
          resultsWrapper.style.display = "none";
        }
      });
    }
  }

  // Run once DOM is ready
  document.addEventListener("DOMContentLoaded", initClientFeatures);
</script>