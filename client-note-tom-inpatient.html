<div class="client-record-container">
  <div class="client-header">
    <div class="client-logo">
      <img src="/s/Client-Record-Logo.png" alt="ICE Learning Center Logo">
    </div>
    <div class="client-search-wrapper">
      <div class="client-search">
        <input type="text" id="client-search-input" class="client-search-input" placeholder="Find a Client Record..." autocomplete="off">
        <button id="client-search-button" class="client-search-button">Go</button>
      </div>
      <div class="autocomplete-results" id="autocomplete-results"></div>
    </div>
  </div>
  <div class="client-info">
    <h1>Tom</h1>
    <h2>Client ID 002</h2>
  </div>
<div class="info-table-wrapper">
  <dl class="info-list">
    
    <div>
      <dt>Name</dt>
      <dd>Tom</dd>
    </div>
    
    <div>
      <dt>Primary Diagnosis</dt>
      <dd>R CVA, craniotomy</dd>
    </div>
    
    <div>
      <dt>Insurance</dt>
      <dd>Cigna</dd>
    </div>
    
    <div>
      <dt>Referring Physician</dt>
      <dd>Garett Lundy, MD</dd>
    </div>
    
    <div>
      <dt>Age</dt>
      <dd>44</dd>
    </div>
    
    <div>
      <dt>Gender Identity</dt>
      <dd>Male</dd>
    </div>
    
    <div>
      <dt>Pronouns</dt>
      <dd>He/him/his</dd>
    </div>
    
    <div>
      <dt>Race/Ethnicity</dt>
      <dd>White</dd>
    </div>
    
  </dl>
</div>
  <div class="tab-container">
    <div class="tab-nav">
      
      <button class="tab-nav-button active" data-target="tab-1">Medical History</button>
      
      <button class="tab-nav-button " data-target="tab-2">Social History</button>
      
      <button class="tab-nav-button " data-target="tab-3">MD Orders</button>
      
      <button class="tab-nav-button " data-target="tab-4">Medications</button>
      
      <button class="tab-nav-button " data-target="tab-5">Test Results</button>
      
    </div>
    <div class="tab-content">
      
      <div id="tab-1" class="tab-panel active">
        
<p><strong>History of present illness:</strong> <br/>44yo WM admitted to the hospital one week ago with c/o upper and lower L-sided weakness and numbness beginning suddenly around 0830. Denied history of blood thinner use and similar episodes to this in the past. Diagnosed with R hemorrhagic stroke with midline shift. Neurosurgery was consulted and recommended craniotomy to reduce the intracranial pressure.</p>
<p><strong>Past medical/surgical history:</strong><br/>HTN</p>

      </div>
      
      <div id="tab-2" class="tab-panel ">
        
<p><strong>Marital status:</strong> Married 24 years.</p>
<p><strong>Primary language:</strong> English.</p>
<p><strong>Prior level of function:</strong> Independent with all ADL/IADL including driving. Shared financial duties and home management with wife.</p>
<p><strong>Employment/work/school:</strong> High school education. Currently employed in an Amazon warehouse. Work duties involve lifting up to 50 pounds from ground to shoulder height and transporting up to 50 pounds up to 50 feet.</p>
<p><strong>Play/leisure/interests:</strong> Enjoys fixing up antique cars.</p>
<p><strong>Environmental factors:</strong> Lives with wife and teenaged son in one-story home with 3 STE, no handrails. Walk-in shower (3‚Äù ledge). No DME. Wife is very supportive and works full-time as an accountant.</p>

      </div>
      
      <div id="tab-3" class="tab-panel ">
        
<p>OOB as able<br/>RASS goal -1 to 2<br/>Art line<br/>Peripheral IV <br/>Central line<br/>Telemetry<br/>Foley catheter<br/>Sequential compression devices BLE<br/>Pressure reducing AFO L foot<br/>Blood pressure goals systolic &lt;220 first 24 hours; &lt;180 second 24 hour, then normotensive<br/>Neuro checks every 4 hours<br/>Aspiration precautions<br/>Dysphagia diet<br/>Pulse oximeter<br/><br/></p>

      </div>
      
      <div id="tab-4" class="tab-panel ">
        
<p>Hydralazine PRN<br/>Labetalol PRN<br/>Atorvastatin <br/>Lisinopril</p>

      </div>
      
      <div id="tab-5" class="tab-panel ">
        
<p>CT scan: hemorrhagic stroke R side</p>

      </div>
      
    </div>
  </div>
  <div style="padding: 0 20px 20px 20px; font-style: italic; color: #777;">
    Disclaimer: Although the individuals in ICE videos are real patients, the exact history has been altered to protect their identities.
  </div>
</div>

<script>
  // --- CLIENT DATA ---
  // Loaded externally from client-list.js via Squarespace Code Injection
  function initClientFeatures() {
    if (typeof clientData === "undefined") {
      console.warn("Waiting for client-list.js to load...");
      return setTimeout(initClientFeatures, 200);
    }

    // --- 1. Define Elements ---
    const tabButtons = document.querySelectorAll(".tab-nav-button");
    const tabPanels = document.querySelectorAll(".tab-panel");
    const searchInput = document.getElementById("client-search-input");
    const searchButton = document.getElementById("client-search-button");
    const resultsWrapper = document.getElementById("autocomplete-results");

    // --- 2. Setup Tab Logic ---
    if (tabButtons.length > 0 && tabPanels.length > 0) {
      tabButtons.forEach(button => {
        button.addEventListener("click", () => {
          tabButtons.forEach(btn => btn.classList.remove("active"));
          tabPanels.forEach(panel => panel.classList.remove("active"));

          button.classList.add("active");
          const targetPanel = document.getElementById(button.getAttribute("data-target"));
          if (targetPanel) {
            targetPanel.classList.add("active");
          }
        });
      });
    }

    // --- 3. Setup Autocomplete Search Logic ---
    if (searchInput && searchButton && resultsWrapper) {
      // Function to perform the redirect
      function goToClient(slug) {
        if (!slug) return;
        const baseUrl = "https://www.icelearningcenter.com/";
        window.location.href = baseUrl + slug;
      }

      // Function to handle the search input
      function handleSearchInput() {
        const inputVal = searchInput.value.toLowerCase();
        resultsWrapper.innerHTML = "";

        if (!inputVal) {
          resultsWrapper.style.display = "none";
          return;
        }

        const matches = clientData.filter(client =>
          client.name.toLowerCase().includes(inputVal)
        );

        if (matches.length > 0) {
          resultsWrapper.style.display = "block";
          matches.forEach(match => {
            const item = document.createElement("div");
            item.className = "autocomplete-item";
            item.textContent = match.name;
            item.addEventListener("click", function () {
              searchInput.value = match.name;
              resultsWrapper.style.display = "none";
              goToClient(match.slug);
            });
            resultsWrapper.appendChild(item);
          });
        } else {
          resultsWrapper.style.display = "none";
        }
      }

      // Listen for typing in the search box
      searchInput.addEventListener("input", handleSearchInput);

      // Handle the "Go" button click
      searchButton.addEventListener("click", function () {
        const inputVal = searchInput.value.toLowerCase();
        const exactMatch = clientData.find(client => client.name.toLowerCase() === inputVal);

        if (exactMatch) {
          goToClient(exactMatch.slug);
        } else if (resultsWrapper.children.length > 0) {
          // If no exact match but there are results, go to the first result
          resultsWrapper.children[0].click();
        }
      });

      // Handle pressing "Enter" in the search box
      searchInput.addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
          event.preventDefault();
          searchButton.click();
        }
      });

      // Close dropdown if user clicks outside of it
      document.addEventListener("click", function (e) {
        const wrapper = e.target.closest(".client-search-wrapper");
        if (!wrapper) {
          resultsWrapper.style.display = "none";
        }
      });
    }
  }

  // Run once DOM is ready
  document.addEventListener("DOMContentLoaded", initClientFeatures);
</script>