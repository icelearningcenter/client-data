<div class="client-record-container">
  <div class="client-header">
    <div class="client-logo">
      <img src="/s/Client-Record-Logo.png" alt="ICE Learning Center Logo">
    </div>
    <div class="client-search-wrapper">
      <div class="client-search">
        <input type="text" id="client-search-input" class="client-search-input" placeholder="Find a Client Record..." autocomplete="off">
        <button id="client-search-button" class="client-search-button">Go</button>
      </div>
      <div class="autocomplete-results" id="autocomplete-results"></div>
    </div>
  </div>
  <div class="client-info">
    <h1>Jimmie</h1>
    <h2>Client ID 025</h2>
  </div>
<div class="info-table-wrapper">
  <dl class="info-list">
    
    <div>
      <dt>Name</dt>
      <dd>Jimmie</dd>
    </div>
    
    <div>
      <dt>Primary Diagnosis</dt>
      <dd>L hip fx s/p CRPP</dd>
    </div>
    
    <div>
      <dt>Insurance</dt>
      <dd>Medicare</dd>
    </div>
    
    <div>
      <dt>Referring Physician</dt>
      <dd>E. Rollins, MD</dd>
    </div>
    
    <div>
      <dt>Age</dt>
      <dd>79</dd>
    </div>
    
    <div>
      <dt>Gender Identity</dt>
      <dd>Female</dd>
    </div>
    
    <div>
      <dt>Pronouns</dt>
      <dd>She/her/hers</dd>
    </div>
    
    <div>
      <dt>Race/Ethnicity</dt>
      <dd>White</dd>
    </div>
    
  </dl>
</div>
  <div class="tab-container">
    <div class="tab-nav">
      
      <button class="tab-nav-button active" data-target="tab-1">Medical History</button>
      
      <button class="tab-nav-button " data-target="tab-2">Social History</button>
      
      <button class="tab-nav-button " data-target="tab-3">MD Orders</button>
      
      <button class="tab-nav-button " data-target="tab-4">Medications</button>
      
      <button class="tab-nav-button " data-target="tab-5">Test Results</button>
      
    </div>
    <div class="tab-content">
      
      <div id="tab-1" class="tab-panel active">
        
<p><strong>History of present illness:</strong> <br/>79yo WF admitted to hospital 3.5 weeks ago after suffering a L femoral neck non-displaced fracture after a fall on black ice on her driveway. Underwent a closed reduction percutaneous pinning (CRPP) procedure with no complications post-operation. Post-op BP 96/58 on IV fluid. Able to tolerate a normal diet the next morning after surgery and BP 115/70. Was taking Percocet 5mg q6 PRN for pain control and monitored on post-surgical floor for 3 days, receiving acute physical and occupational therapy evaluation and plans. Transferred to skilled nursing facility that is close to her daughter 3 weeks ago.</p>
<p><strong>Past medical/surgical history:</strong><br/>Hypothyroidism, syncope, mitral valve replacement</p>

      </div>
      
      <div id="tab-2" class="tab-panel ">
        
<p><strong>Marital status:</strong> Widowed 4 years</p>
<p><strong>Primary language:</strong> English</p>
<p><strong>Prior level of function:</strong> Independent in all ADL/IADLs, including driving. Since the passing of her husband, tends only to make simple meals. Occasionally experiences fatigue and tries to plan day and activities carefully. Daughter suggested hiring housekeeping for her, but she does not like the idea of having a stranger coming to the house, and wants to do it by herself as long as she can.</p>
<p><strong>Employment/work/school:</strong> High school education. Retired administrative assistant for dental office.</p>
<p><strong>Play/leisure/interests:</strong> Enjoys growing vegetables in the backyard garden and playing mahjong with friends.</p>
<p><strong>Environmental factors:</strong> Lives alone in a two-story house where she has been living for 55 years since she was married. Wants to stay living in this house as long as she can. 1 STE, no handrails. Living room, dining area, kitchen, and powder room (without bath) is on the main floor. 12 steps to second floor, L handrail. Bedroom attached to full-bathroom on second floor with walk-in shower (1‚Äù ledge) with hinged door. No DME. 1 adult daughter who lives ~1 hour away and visits biweekly.</p>

      </div>
      
      <div id="tab-3" class="tab-panel ">
        
<p>Fall precautions<br/>May ambulate if BP is above 110/70</p>

      </div>
      
      <div id="tab-4" class="tab-panel ">
        
<p>Levothyroxine<br/>Aspirin<br/>Hydrochlorothiazide<br/>Acetaminophen as needed</p>

      </div>
      
      <div id="tab-5" class="tab-panel ">
        
<p>X-ray: L femoral neck non-displaced fracture</p>

      </div>
      
    </div>
  </div>
  <div style="padding: 0 20px 20px 20px; font-style: italic; color: #777;">
    Disclaimer: Although the individuals in ICE videos are real patients, the exact history has been altered to protect their identities.
  </div>
</div>

<script>
  // --- CLIENT DATA ---
  // Loaded externally from client-list.js via Squarespace Code Injection
  function initClientFeatures() {
    if (typeof clientData === "undefined") {
      console.warn("Waiting for client-list.js to load...");
      return setTimeout(initClientFeatures, 200);
    }

    // --- 1. Define Elements ---
    const tabButtons = document.querySelectorAll(".tab-nav-button");
    const tabPanels = document.querySelectorAll(".tab-panel");
    const searchInput = document.getElementById("client-search-input");
    const searchButton = document.getElementById("client-search-button");
    const resultsWrapper = document.getElementById("autocomplete-results");

    // --- 2. Setup Tab Logic ---
    if (tabButtons.length > 0 && tabPanels.length > 0) {
      tabButtons.forEach(button => {
        button.addEventListener("click", () => {
          tabButtons.forEach(btn => btn.classList.remove("active"));
          tabPanels.forEach(panel => panel.classList.remove("active"));

          button.classList.add("active");
          const targetPanel = document.getElementById(button.getAttribute("data-target"));
          if (targetPanel) {
            targetPanel.classList.add("active");
          }
        });
      });
    }

    // --- 3. Setup Autocomplete Search Logic ---
    if (searchInput && searchButton && resultsWrapper) {
      // Function to perform the redirect
      function goToClient(slug) {
        if (!slug) return;
        const baseUrl = "https://www.icelearningcenter.com/";
        window.location.href = baseUrl + slug;
      }

      // Function to handle the search input
      function handleSearchInput() {
        const inputVal = searchInput.value.toLowerCase();
        resultsWrapper.innerHTML = "";

        if (!inputVal) {
          resultsWrapper.style.display = "none";
          return;
        }

        const matches = clientData.filter(client =>
          client.name.toLowerCase().includes(inputVal)
        );

        if (matches.length > 0) {
          resultsWrapper.style.display = "block";
          matches.forEach(match => {
            const item = document.createElement("div");
            item.className = "autocomplete-item";
            item.textContent = match.name;
            item.addEventListener("click", function () {
              searchInput.value = match.name;
              resultsWrapper.style.display = "none";
              goToClient(match.slug);
            });
            resultsWrapper.appendChild(item);
          });
        } else {
          resultsWrapper.style.display = "none";
        }
      }

      // Listen for typing in the search box
      searchInput.addEventListener("input", handleSearchInput);

      // Handle the "Go" button click
      searchButton.addEventListener("click", function () {
        const inputVal = searchInput.value.toLowerCase();
        const exactMatch = clientData.find(client => client.name.toLowerCase() === inputVal);

        if (exactMatch) {
          goToClient(exactMatch.slug);
        } else if (resultsWrapper.children.length > 0) {
          // If no exact match but there are results, go to the first result
          resultsWrapper.children[0].click();
        }
      });

      // Handle pressing "Enter" in the search box
      searchInput.addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
          event.preventDefault();
          searchButton.click();
        }
      });

      // Close dropdown if user clicks outside of it
      document.addEventListener("click", function (e) {
        const wrapper = e.target.closest(".client-search-wrapper");
        if (!wrapper) {
          resultsWrapper.style.display = "none";
        }
      });
    }
  }

  // Run once DOM is ready
  document.addEventListener("DOMContentLoaded", initClientFeatures);
</script>